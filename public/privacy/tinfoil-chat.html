<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <link rel=stylesheet type="text/css" href="../css/style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta NAME="language" CONTENT="en">
        <meta name="keywords" content="tinfoilhat, tinfoil-hat, Conspiracy Theories, Linux, Opensource, IT, computer science, Unix, vlog, [★]">
        <meta name="description" content="IT-Blog: Tinfoil-hat.net, tinfoilhat, tinfoil-hat, Conspiracy Theories, Linux, Opensource, IT, computer science, Unix, vlog, [★]">
        <meta http-equiv="Content-Language" content="en">
        <meta http-equiv="imagetoolbar" content="no">
        <meta name="format-detection" content="telephone=no">
        <meta name="author" content="tinfoil_hat">
        <title>Tinfoil-hat.net - A secure home for every tinfoil-hat.</title> 
    </head>
    <body>
        <!-- Border around content -->
        <div style="border:2px solid #555;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;background-color:#000;box-s
hadow:3px 3px 5px rgba(0,0,0,0.5)">
            <!-- Headline -->
            <div style="text-shadow:1px 0px 0px #444;letter-spacing:0.28px;border-top-left-radius:10px;border-top-right-radius:10px;color:#fff;background-color:#111;padding:3px 6px 3px 6p
x;border-bottom:1px solid #555">
                 <!-- Headline Mobile -->
                 <div class="mobile-only"><b class="c-fff">Tinfoil-hat.net</b><br>A secure home for every tinfoil-hat</div>
                 <!-- Headline Desktop -->
                 <div class="desktop-only"><b class="c-fff">:: Tinfoil-hat.net - A secure home for every tinfoil-hat</b></div>
            </div>
            <!-- Menu -->
            	<div class="floatdiv"><a title="to Startpage" href="../index.html" style="color:#fff;border:0px">Start</a></div>
            	<div class="floatdiv"><a title="IT-Blog, References and Links" href="../cs/structure.html" style="color:#fff;border:0px">Computer Science</a></div>
            	<div class="floatdiv"><a title="Public Hosting" href="../hosting/hosting.html" style="color:#fff;border:0px">Public Hosting</a></div>
            	<div class="floatdiv"><a title="Anonymity" href="../privacy/structure.html" style="color:#fff;border:0px">Anonymity</a></div>
            	<div class="floatdiv"><a title="Call of Duty" href="../hacktivism/structure.html" style="color:#fff;border:0px">Hacktivism</a></div>
            	<div class="floatdiv"><a title="Conspiracy Theories" href="../ct/ct.html" style="color:#fff;border:0px">Conspiracy Theories</a></div>
            	<div class="floatdiv"><a title="Posts Overview" href="../posts/structure.html" style="color:#fff;border:0px">Posts Overview</a></div>

			<!-- Beginning Content -->
            <div style="padding:4px 7px 4px 7px;background-color:#000;clear:both">
            
                <!-- A -->
                        <div style="float:left;padding:0px 14px 7px 0px;max-width:640px;display:inline-block">

<p><img align="right" src="https://cs.helsinki.fi/u/oottela/tfc_logo.png" style="position: relative; top: 0; left: 0;"></p>
<h3 id="tinfoil-chat">Tinfoil Chat</h3>
<p><a href="https://travis-ci.org/maqp/tfc"><img src="https://travis-ci.org/maqp/tfc.svg?branch=master" alt="Build Status" /></a> <a href="https://coveralls.io/github/maqp/tfc?branch=master"><img src="https://coveralls.io/repos/github/maqp/tfc/badge.svg?branch=master" alt="Coverage Status" /></a></p>
<p>Tinfoil Chat (TFC) is a <a href="https://www.gnu.org/philosophy/free-sw.html">FOSS</a>+<a href="https://www.gnu.org/philosophy/free-hardware-designs.en.html">FHD</a> messaging system that relies on high assurance hardware architecture to protect users from <a href="https://en.wikipedia.org/wiki/Upstream_collection">passive eavesdropping</a>, <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">active MITM attacks</a> and <a href="https://www.youtube.com/watch?v=3euYBPlX9LM">remote exfiltration</a> (=hacking) practised by organized crime and nation state actors.</p>
<h5 id="state-of-the-art-cryptography">State-of-the-art cryptography</h5>
<p>TFC uses <a href="https://cr.yp.to/chacha/chacha-20080128.pdf">XChaCha20</a>-<a href="https://cr.yp.to/mac/poly1305-20050329.pdf">Poly1305</a> <a href="https://en.wikipedia.org/wiki/End-to-end_encryption">end-to-end encryption</a> with <a href="https://en.wikipedia.org/wiki/Deniable_encryption#Deniable_authentication">deniable authentication</a>. The symmetric keys are either <a href="https://en.wikipedia.org/wiki/Pre-shared_key">pre-shared</a>, or exchanged using <a href="https://eprint.iacr.org/2015/625.pdf">X448</a>, the base-10 <a href="https://en.wikipedia.org/wiki/Public_key_fingerprint">fingerprints</a> of which are verified via out-of-band channel. TFC provides per-message <a href="https://en.wikipedia.org/wiki/Forward_secrecy">forward secrecy</a> with <a href="https://blake2.net/blake2.pdf">BLAKE2b</a> based <a href="https://www.youtube.com/watch?v=9sO2qdTci-s#t=1m34s">hash ratchet</a>. All persistent user data is encrypted locally using XChaCha20-Poly1305, the key of which is derived from password and salt using <a href="https://github.com/P-H-C/phc-winner-argon2/blob/master/argon2-specs.pdf">Argon2id</a>. Key generation of TFC relies on Linux kernel’s <a href="https://manpages.debian.org/testing/manpages-dev/getrandom.2.en.html">getrandom()</a>, a syscall for its ChaCha20 based CSPRNG.</p>
<h5 id="first-messaging-system-with-endpoint-security">First messaging system with endpoint security</h5>
<p>The software is used in hardware configuration that provides strong <a href="https://en.wikipedia.org/wiki/Endpoint_security">endpoint security</a>: Encryption and decryption are separated on two isolated computers. The split <a href="https://en.wikipedia.org/wiki/Trusted_computing_base">TCB</a> interacts with a third, Networked Computer, through unidirectional <a href="https://en.wikipedia.org/wiki/Universal_asynchronous_receiver/transmitter">serial</a> interfaces. The direction of data flow between the computers is enforced with free hardware design <a href="https://en.wikipedia.org/wiki/Unidirectional_network">data diodes</a>, technology the certified implementations of which are typically found in critical infrastructure protection and government networks where classification level of data varies.</p>
<h5 id="anonymous-by-design">Anonymous by design</h5>
<p>TFC routes all communication through next generation <a href="https://2019.www.torproject.org/about/overview.html.en">Tor</a> (<a href="https://trac.torproject.org/projects/tor/wiki/doc/NextGenOnions">v3</a>) <a href="https://2019.www.torproject.org/docs/onion-services">Onion Services</a> to hide metadata about real-life identity and geolocation of users, when and how much they communicate, the social graph of the users and the fact TFC is running. TFC also features a traffic masking mode that hides the type, quantity, and schedule of communication, even if the Networked Computer is compromised.</p>
<h3 id="how-it-works">How it works</h3>
<p><img src="https://www.cs.helsinki.fi/u/oottela/wiki/readme/how_it_works2.png" /> <a href="https://www.cs.helsinki.fi/u/oottela/wiki/readme/how_it_works2.png">System overview</a></p>
<p>TFC uses three computers per endpoint: Source Computer, Networked Computer, and Destination Computer.</p>
<p>Alice enters messages and commands to Transmitter Program running on her Source Computer. Transmitter Program encrypts and signs plaintext data and relays the ciphertexts from Source Computer to her Networked Computer through a serial interface and a hardware data diode.</p>
<p>Relay Program on Alice’s Networked Computer relays commands and copies of outgoing messages to her Destination Computer via the serial interface and data diode. Receiver Program on Alice’s Destination Computer authenticates, decrypts and processes the received message/command.</p>
<p>Alice’s Relay Program shares messages and files to Bob over Tor Onion Service. The web client of Bob’s Relay Program fetches the ciphertext from Alice’s Onion Service and forwards it to his Destination Computer (again through a serial interface and data diode). Bob’s Receiver Program then authenticates, decrypts and processes the received message/file.</p>
<p>When Bob responds, he will type his message to his Source Computer, and after a mirrored process, Alice reads the message from her Destination Computer.</p>
<h3 id="why-keys-and-plaintexts-cannot-be-exfiltrated">Why keys and plaintexts cannot be exfiltrated</h3>
<p>TFC is designed to combine the <a href="https://en.wikipedia.org/wiki/Unidirectional_network#Applications">classical and alternative data diode models</a> to provide hardware enforced endpoint security:</p>
<ol type="1">
<li><p>The Destination Computer uses the classical data diode model. It is designed to receive data from the insecure Networked Computer while preventing the export of any data back to the Networked Computer. Not even malware on Destination Computer can exfiltrate keys or plaintexts as the data diode prevents all outbound traffic.</p></li>
<li><p>The Source Computer uses the alternative data diode model that is designed to allow the export of data to the Networked Computer. The data diode protects the Source Computer from attacks by physically preventing all inbound traffic. To allow key exchanges, the short elliptic-curve public keys are input manually by the user.</p></li>
<li><p>The Networked Computer is assumed to be compromised. All sensitive data that passes through it is encrypted and signed with no exceptions.</p></li>
</ol>
<p><img src="https://www.cs.helsinki.fi/u/oottela/wiki/readme/attacks2.png" /> <a href="https://www.cs.helsinki.fi/u/oottela/wiki/readme/attacks2.png">Exfiltration security</a></p>
<h4 id="data-diode">Data diode</h4>
<p>Optical repeater inside the <a href="https://en.wikipedia.org/wiki/Opto-isolator">optocouplers</a> of the data diode (below) enforce direction of data transmission with the fundamental laws of physics.</p>
<p><img src="https://www.cs.helsinki.fi/u/oottela/wiki/readme/readme_dd.jpg" /> <a href="https://www.cs.helsinki.fi/u/oottela/wiki/readme/readme_dd.jpg">TFC data diode</a></p>
<h3 id="supported-operating-systems">Supported Operating Systems</h3>
<h4 id="sourcedestination-computer">Source/Destination Computer</h4>
<ul>
<li>Debian 10</li>
<li>PureOS 9.0</li>
<li>*buntu 19.10</li>
</ul>
<h4 id="networked-computer">Networked Computer</h4>
<ul>
<li>Tails 4.0</li>
<li>Debian 10</li>
<li>PureOS 9.0</li>
<li>*buntu 19.10</li>
</ul>
<h3 id="more-information">More information</h3>
<p><a href="https://github.com/maqp/tfc/wiki/Threat-model">Threat model</a><br> <a href="https://github.com/maqp/tfc/wiki/FAQ">FAQ</a><br> <a href="https://github.com/maqp/tfc/wiki/Security-design">Security design</a><br></p>
<p>Hardware<Br>     <a href="https://github.com/maqp/tfc/wiki/TTL-Data-Diode-(breadboard)">Data diode (breadboard)</a><br>     <a href="https://github.com/maqp/tfc/wiki/TTL-Data-Diode-(perfboard)">Data diode (perfboard)</a><br></p>
<p><a href="https://github.com/maqp/tfc/wiki/Update-Log">Update log</a><br></p>
<p>For the rest of the articles, see <a href="https://github.com/maqp/tfc/wiki">TFC wiki</a>.</p>
                </div>
                <!-- A -->
                <div style="padding-bottom:2px;display:inline-block;width:420px;max-width:100%">
                    <div style="clear:both"></div>
                    <div style="font-size:6px"><br>
                                </div>
                
            </div>
            <!-- End Content -->
            <!-- Footer -->
            <div style="clear:both;font-size:11px;background-color:#00004d;border-bottom-left-radius:5px;border-bottom-right-radius:5px;color:#fff;padding:3px 6px 3px 6px;border-top:1px solid #555">
                <!-- Footer Content -->
                <a href=https://keyserver.ubuntu.com/pks/lookup?search=privat%40nchristian.net&fingerprint=on&op=index>>GPG-Fingerprint: F1AB 723C 635B 792F E18A EED8 6259 5B76 EE31 15F2</a><span class="desktop-only"> ·</span><br class="mobile-only">
                <span class="desktop-only"></span><br class="mobile-only">
                <a target="_blank" href="https://git.tinfoil-hat.net" style="color:#fff" rel="nofollow">Git Repo</a> ·</span><br class="mobile-only">
                <a href="irc://irc.uugrn.org:6668/uugrn" style="color:#fff" rel="nofollow">IRC #uugrn tinfoil_hat</a> ·</span><br class="mobile-only">
                <a style="color:#fff" rel="nofollow">chrissly90@jabber.nchristian.net</a> ·</span><br class="mobile-only">
                Mail:&nbsp;<span title="Do you have any questions or complains? E-Mail me!"><a href="mailto:privat@nchristian.net" style="color:#fff">privat@nchristian.net</a></span><span class="desktop-only"> ·</span><br class="mobile-only">
                <a href="legal.html" rel="nofollow">Legal</a> 
            </div>
            <!-- End Footer -->
            
        <!-- End Border around content -->
        </div>
    </body>
</html>

